<!-- main-layout.component.html -->
<div class="flex h-screen bg-gray-100">
  <!-- Sidebar -->
  <app-sidebar class="w-64"></app-sidebar>

  <!-- Main Content -->
  <div class="flex-1 flex flex-col">
    <!-- Topbar -->
    <app-topbar></app-topbar>

    <!-- Router View for main pages -->
    <div class="flex-1 overflow-y-auto p-4">
      <router-outlet></router-outlet>
    </div>
  </div>

  <!-- Right widget panel -->
  <div class="w-72 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 flex flex-col">
    @if (isWidgetOpen) {
      <div class="flex-1 overflow-y-auto p-4">
        @if (activeWidget === 'notes') {
          <app-notes-panel></app-notes-panel>
        }
        @if (activeWidget === 'calendar') {
          <app-calendar-panel></app-calendar-panel>
        }
      </div>
    }
    <!-- Floating widget buttons -->
    <div class="p-2 flex justify-center gap-2 border-t border-gray-200 dark:border-gray-700">
      <button (click)="toggleNotes()" class="p-2 rounded-full bg-blue-500 text-white">ğŸ“</button>
      <button (click)="toggleCalendar()" class="p-2 rounded-full bg-green-500 text-white">ğŸ“…</button>
    </div>
  </div>
</div>
